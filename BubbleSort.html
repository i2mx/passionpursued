<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>

    <style>
        * {
            padding: 0;
            margin: 0;
            overflow: hidden;
        }

        button {
            border: 1px solid grey;
            height: 3em;
            width: 99%;
            font-family: 'Segoe UI';
            font-size: 1.5em;
            
        }
    </style>

</head>

<body>
    <button onclick="Sort()">Bubble Sort Algorithm</button>
    <canvas id="canvas"></canvas>

    <script>
        var step = 0;
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext("2d");

        var height = canvas.height = window.innerHeight;
        var width = canvas.width = window.innerWidth;

        var List = [(Math.random() * 100) + 1]
        for (i = 0; i < 10; i++) {
            List.push((Math.random() * 100) + 1)
        }

        function BiggestNum() {
            var current = List[0]
            for (g = 0; g < List.length; g++) {
                if (List[g] > current) {
                    current = List[g];
                }
            }
            return current;
        }

        function Draw(num) {

            ctx.beginPath();
            ctx.fillStyle = "rgb(255, 255, 255)"
            ctx.rect(0, 0, width, height);
            ctx.fill();
            ctx.closePath();

            for (i = 0; i < List.length; i++) {
                var gap = 5;
                var barheight = -250 / BiggestNum();
                var idk = (width - 250 - (List.length) * gap) / List.length;
                var startx = 125;
                var x = startx + (i * (idk + gap));


                ctx.beginPath();
                ctx.moveTo(100, height - 100);
                ctx.lineTo(width - 100, height - 100);
                ctx.stroke();
                ctx.closePath();

                ctx.beginPath();
                ctx.fillStyle = "rgb(125, 125, 125)"
                if (num == i) {
                    ctx.fillStyle = "rgb(255, 50, 50)"
                }

                ctx.rect(x, height - 100, idk, barheight * List[i]);
                ctx.fill();
            }

        }

        function Sort() {
            var audio = new Audio('mouseup4.wav');
            audio.play();
            step = (step + 1) % List.length
            var temp;
            //for (j = 0; j < List.length; j++) {
            Draw(step);
            if (List[step] > List[step + 1]) {
                temp = List[step];
                List[step] = List[step + 1];
                List[step + 1] = temp;
            }
            Draw(step + 1);
            //}
        }

        Draw(0);
    </script>

</body>


</html>