<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>

    <style>
        * {
            padding: 0;
            margin: 0;
            overflow: hidden;
        }

        button {
            border: 1px solid grey;
            height: 3em;
            width: 100%;
            font-family: 'Segoe UI';
            font-size: 1.5em;
        }
    </style>

</head>

<body>
    <button onclick="Sort()">Insertion Sort Algoritm</button>
    <canvas id="canvas"></canvas>

    <script>

        var firstheight;
        var idk2;

        var step = 0;
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext("2d");
        
        var height = canvas.height = window.innerHeight;
        var width = canvas.width = window.innerWidth;

        var List = [(Math.random() * 100) + 1]
        var List2 = []
        for (i = 0; i < 35; i++) {
            List.push((Math.random() * 100) + 1)
        }

        function BiggestNum() {
            var current = List[0]
            for (g = 0; g < List.length; g++) {
                if (List[g] > current) {
                    current = List[g];
                }
            }
            return current;
        }

         function BiggestIndex() {
             var current = List[0]
             var currentindex;
            for (g = 0; g < List.length; g++) {
                if (List[g] > current) {
                    current = List[g];
                    currentindex = g;
                }
            }
            return currentindex;
        }


        function Draw(num) {

            ctx.beginPath();
            ctx.fillStyle = "rgb(255, 255, 255)"
            ctx.rect(0, 0, width, height);
            ctx.fill();
            ctx.closePath();

            ctx.beginPath();
            ctx.moveTo(100, height - 420);
            ctx.lineTo(width - 100, height - 420);
            ctx.stroke();
            ctx.closePath();

            ctx.beginPath();
            ctx.moveTo(100, height - 100);
            ctx.lineTo(width - 100, height - 100);
            ctx.stroke();
            ctx.closePath();

            for (i = 0; i < List.length; i++) {

                var gap = 5;
                var barheight = -200 / BiggestNum();
                var idk = (width - 250 - (List.length) * gap) / List.length;
                var startx = 125;
                var x = startx + (i * (idk + gap));




                ctx.beginPath();
                ctx.fillStyle = "rgb(125, 125, 125)"
                if (num == i) {
                    ctx.fillStyle = "rgb(255, 50, 50)"
                }

                ctx.rect(x, height - 100, idk, barheight * List[i]);
                ctx.fill();


            }


            for (l = 0; l < List2.length; l++) {

                ctx.beginPath();
                ctx.fillStyle = "rgb(125, 125, 125)"
                ctx.rect(125 + (l * ((width - 250 - (List2.length) * 5) / List2.length + 5)), height - 420, (width - 250 - (List2.length) * 5) / List2.length, firstheight * List2[l]);
                ctx.fill();


            }

        }

        var temp = List[0];
        var daindex = 0;

        function Sort() {
            if (List.length != 0) {
            var audio = new Audio('mouseup4.wav');
            audio.play();

            step = step + 1

            if (List[step] > temp) {
                daindex = step;
                temp = List[step];
            }
            if (step > List.length - 1) {
                temp = List[0];
                daindex = 0;
                step = 0;
                List2.push(BiggestNum());
                List.splice(BiggestIndex(),1);

            }
            Draw(step)
            }
            
            
            //}
        }

        firstheight = -200 / BiggestNum();
        idk2 = (width - 250 - (List.length) * 5) / List.length;
        Draw(0);
    </script>

</body>


</html>